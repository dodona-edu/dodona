<% content_for :javascripts do %>
  <%= javascript_pack_tag 'post' %>
<% end %>

<%= form_for(post, :html => {:class => 'form-horizontal'}) do |f| %>
  <% if post.errors.any? %>
    <div id="error_explanation">
      <h2><%= t("errors.validation_errors", :count => post.errors.count) %></h2>
      <ul>
        <% post.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field form-group">
    <div class="row">
      <%= f.label :title, :class => "col-sm-2 control-label" %>
      <div class="col-sm-4"><%= f.text_field :title, class: "form-control", disabled: !f.permission?(:title) %></div>
    </div>
  </div>

  <div class="field form-group">
    <div class="row">
      <%= f.label :release, :class => "col-sm-2 control-label" %>
      <div class="col-sm-4">
        <div class="input-group" id="release-group" data-wrap=true>
          <%= f.text_field :release, class: "form-control", 'data-input': true %>
          <span class="input-group-btn">
            <button class="btn btn-default" type="button" data-toggle><i class='material-icons md-18'>calendar_today</i></button>
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="field form-group">
    <div class="row">
      <div class="col-sm-8 col-sm-offset-2">
        <%= f.label :draft do %>
          <%= f.check_box :draft %>
          <%= Series.human_attribute_name(:draft) %>
        <% end %>
      </div>
    </div>
  </div>

  <div class="field">
    <%= f.rich_text_area :content %>
  </div>
<% end %>
<script type="text/javascript">
    $(function () {
        dodona.initPostForm();
    });
</script>
